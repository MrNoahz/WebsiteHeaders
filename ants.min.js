'use strict';var _createClass=function(){function a(c,d){for(var g,f=0;f<d.length;f++)g=d[f],g.enumerable=g.enumerable||!1,g.configurable=!0,'value'in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}return function(c,d,f){return d&&a(c.prototype,d),f&&a(c,f),c}}();function _classCallCheck(a,c){if(!(a instanceof c))throw new TypeError('Cannot call a class as a function')}var canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d'),branches=[],mouseX=0,mouseY=0,randomBranches=[],randomX=0,randomY=0,timeBetweenChoosey=3e3,tap='ontouchstart'in window||navigator.msMaxTouchPoints?'touchstart':'mousedown',Branch=function(){function a(c,d){_classCallCheck(this,a),this.x=c,this.y=d,this.life=500,this.angle=360*Math.random()}return _createClass(a,[{key:'tick',value:function tick(c){this.life--,c.beginPath(),c.strokeStyle='#87b5ff',c.moveTo(this.x,this.y),this.angle+=Math.random()-.5,this.x+=Math.cos(this.angle),this.y+=Math.sin(this.angle),c.lineTo(this.x,this.y),c.stroke(),c.closePath()}}]),a}();function loop(){500>branches.length&&branches.push(new Branch(mouseX,mouseY)),300>randomBranches.length&&randomBranches.push(new Branch(randomX,randomY)),branches.forEach(function(a){0>=a.life&&branches.shift(),a.tick(ctx)}),randomBranches.forEach(function(a){0>=a.life&&randomBranches.shift(),a.tick(ctx)}),ctx.fillStyle='rgba(0, 0, 50, 0.1)',ctx.fillRect(0,0,canvas.width,canvas.height)}function init(){resizeCanvas(),chooseRandomAnts(),setInterval(loop,1e3/60)}function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}function mouseMove(a){a.touches&&(a.preventDefault(),a=a.touches[0]),mouseX=a.clientX,mouseY=a.clientY}function chooseRandomAnts(){randomX=Math.random()*canvas.width,randomY=Math.random()*canvas.height,setTimeout(chooseRandomAnts,timeBetweenChoosey)}window.addEventListener('resize',resizeCanvas,!1),window.addEventListener('mousemove',mouseMove,!1),init();